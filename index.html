<!DOCTYPE html>
<html lang="ru-RU">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Multiviewport</title>
        <style>
            .kernel {
                text-align: center;
                display: flex;
                flex-wrap: wrap;
                gap: 12px;
                justify-content: center;
            }

            

            h2 {
                font-family: Arial, Helvetica, sans-serif;
                font-size: 20px;
                margin: 0.5em 0;
                cursor: pointer;
            }

            iframe {
                margin: 0 auto;
                display: inline-block;
               
            }

            iframe.active {
                box-shadow: 0 0 20px 0 #b00;
            }
        </style>
    </head>
    <body>
        <div class="kernel js-kernel"></div>
    </body>
    <script>
        const dimensions = [
        "360x780",
        "360x800",
        "375x667",
        "375x812",
        "375x833",
        "390x844",
        "393x736",
        "393x851",
        "393x852",
        "393x873",
        "412x892",
        "412x915",
        "414x736",
        "414x896",
        "820x1180",
        "1024x768",
        "1024x1366",
        "1280x570",
        "1280x650",
        "1280x800",
        "1366x617",
        "1422x782",
        "1536x730",
        "1536x802",
        "1536x864",
        "1920x929",
        "1920x1080",
        ];

        const kernel = document.querySelector(".js-kernel");
        dimensions.map(function (dim) {
            const width = dim.split("x")[0];
            const height = dim.split("x")[1];
            console.log(width + "===" + height);

            const out = `
            <div class="kernel__item">
                <h2>${width}x${height}</h2>
                <iframe src="http://localhost:8848/" frameborder="0" width="${width}" height="${height}"></iframe>
            </div>
            `;

            kernel.innerHTML += out;
        });

        let h2 = document.querySelectorAll(".kernel__item h2");
        h2.forEach((item) => {
            item.addEventListener("click", () => changeDir(item));
        });

        function changeDir(header) {
            document.querySelectorAll("iframe").forEach((item)=>item.classList.remove("active"));
            const parent = header.parentNode;
            const ifr = parent.querySelector("iframe");
            const ifrW = ifr.width;
            const ifrH = ifr.height;
            ifr.width = ifrH;
            ifr.height = ifrW;
            ifr.classList.add("active");
            header.innerHTML = ifrH + "x" + ifrW;
        }
    </script>
</html>
